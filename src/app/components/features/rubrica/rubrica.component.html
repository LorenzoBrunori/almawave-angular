<div class="row">
  <div class="col-12">
    <div class="card mb-4">
      <div class="card-header">
        <strong>Rubrica Form Ricerca</strong>
      </div>
      <div class="card-body">
        <div class="d-flex justify-content-center flex-row flex-nowrap justify-content-lg-between">
            <p class="small">
              Aggiungi un filtro di ricerca per filtrare la rubrica dei contatti.
            </p>
            <button type="button" class="btn btn-success" (click)="goToInsert()">Vai all'inserimento</button>
        </div>
        <form [formGroup]="formSearch" (ngSubmit)="search()">
          <div class="tab-content rounded-button">
            <div class="tab-pane p-3 active" role="tabpanel">
              <div class="row">
                <div class="mb-3 col-xl-4 col-md-12 col-sm-12 col-12">
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Username"
                    formControlName="username"
                  />
                </div>

                <div class="mb-3 col-xl-4 col-md-12 col-sm-12 col-12">
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Nome"
                    formControlName="name"
                  />
                </div>

                <div class="mb-3 col-xl-4 col-md-12 col-sm-12 col-12">
                  <input
                    type="text"
                    class="form-control"
                    placeholder="Email"
                    formControlName="email"
                  />
                </div>
              </div>

              <div class="d-flex justify-content-end flex-row mt-3">
                <button type="submit" class="btn btn-primary">Cerca</button>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="col-12">
    <div class="card mb-4">
      <div class="card-header">
        <strong>Lista Contatti</strong>
      </div>
      <div class="card-body">
        <p class="small">
          Visualizza la lista dei contatti.
        </p>
        <div class="tab-content rounded-button">
          <div class="tab-pane p-3 active" role="tabpanel">
            <div class="row table-responsive">
                <table class="table">
                    <thead>
                        <tr>
                            <th scope="col">ID</th>
                            <th scope="col">Username</th>
                            <th scope="col">Nome</th>
                            <th scope="col">Email</th>
                            <th scope="col">Azioni</th>
                        </tr>
                    </thead>
                    <tbody>
                        <ng-container *ngIf="listaContatti.length > 0; else elseBlock">
                            <tr *ngFor="let contatto of listaContatti">
                                <th scope="row">{{ contatto.id }}</th>
                                <td>{{ contatto.username }}</td>
                                <td>{{ contatto.name }}</td>
                                <td>{{ contatto.email }}</td>
                                <td>
                                    <button type="button" class="btn btn-primary" (click)="goToDetail(contatto.id)">Dettagli</button>
                                </td>
                            </tr>
                        </ng-container>

                        <ng-template #elseBlock>
                            <tr class="text-center">
                                <td colspan="5">Nessun contatto trovato</td>
                            </tr>
                        </ng-template>
                    </tbody>
                </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  
</div>
